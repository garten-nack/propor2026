**Pergunta 88**: Quais são as três alternativas para implementar relacionamentos em bancos de dados de documentos?

**Segmentos recuperados pelo E5**:
- *Corpus ID:* 8818
- *Score:* 0.8673238158226013
- *URL:* oculto
- *Início:* 00:59:26
- *Fim:* 01:02:07
- *Transcrição:* alinhar porque aí vão ter consultas que elas vão demorar muito se a consulta for diferente do alinhamento que eu fiz né então aqui por exemplo eu tenho cliente e tenho o endereço então se eu quero todos os dados do cliente a consulta vai ser super rápida porque eu fiz a consulta eh no documento alinhado na agregação que já existe Se eu quisesse assim ah eu quero né todos os clientes que moram em Chicago essa consulta seria super demorada porque eu tenho que abrir todos os documentos da coleção achar a cidade verificar se é Chicago ou não então eu posso particionar como a gente faz no relacional e usar uma referência né então aí eu não vou ter todos os dados juntos dentro do mesmo documento mas eu vou ligar eles através de um relacionamento Então esse relacionamento pode ser uma referência que é tipo padrão como os bancos de dados de documentos foram eh criados né então ele tem cada eh documento então ele tem o identificador do documento que é gerado automaticamente então quando né eu ligo os documentos eh por identificador Esse identificador gerado automaticamente então ele vai percorrendo eh essas referências que é diferente de um join né então quando eu percorro a as referências então eu vou pegar Esse identificador vou lá no documento localizo o documento e trago ele para resposta pego o próximo identificador vou lá no documento e trago ele para cá né Então dependendo da aplicação isso é rápido dependendo é demorado né então ele vai ser mais rápido se o número de referências não for grande mas se ele for mais aninhado e menos né uma lista exaustiva de valores Então esse aqui é o assim a vou dizer a definição original como muitas aplicações relacion isso já há bastante tempo atrás né começaram a usar os bancos de dados de documento Então se

- *Corpus ID:* 8830
- *Score:* 0.8643303513526917
- *URL:* oculto
- *Início:* 01:23:24
- *Fim:* 01:26:16
- *Transcrição:* então eu tenho eh lá no modelo relacional tenho um esquema eu tenho várias tabelas que estão ligadas por relacionamentos né aqui então no esquema no relacional eu tenho tabelas no de documentos né eu tenho o Database que é o equivalente ao esquema e daí tenho várias coleções né então eu posso ter uma coleção só quando tudo tá aninhado ou ou eu posso ter mais de uma coleção que é o equivalente às tabelas e daí essas coleções elas estão eh interligadas por referência ou por identificador de objeto ou por relacionamento Como é o que a gente conhece né então na tabela a gente tem as linhas da tabela no de documentos uma coleção eu vou ter um conjunto de documentos né então como eu disse antes cada documento equivale a uma linha da tabela né a gente tem indexação também né tem o identificador ali como a gente já viu e aqui né no banco de dados relacional a gente tem as junções e aqui na no mongo DB a gente tem os documentos aninhados e aí só né Relembrando que eles são consultas né aqui no relacional a gente tem chave estrangeira e no mongodb a gente tem as referências que são aquelas duas né ou pelo identificador ou pela referência eh que o Né o usuário cria Então essa é uma comparação pra gente resumir né tudo o que foi visto até aqui tá aqui só paraa gente ter uma ideia de projeto e desenvolvimento né no relacional O que que a gente tem a gente faz toda aquela parte de de projeto de modelagem aí a gente faz o mapeamento pro banco e depois a gente né cria o banco insere os dados e daí começa a usar né então nos bancos de dados de documentos Então esse processo de modelagem ele não é muito claro né então a ideia como ela é Flex a gente pode ir incrementando mas né para aplicações mais transacionais e consolidadas né importante que a gente faça essa modelagem primeiro para não tomar né a decisão como né Eu já tomei muitos Já

- *Corpus ID:* 8807
- *Score:* 0.863441526889801
- *URL:* oculto
- *Início:* 00:36:25
- *Fim:* 00:39:21
- *Transcrição:* aqui de novo né Eh Então o que eu tinha comentado eh aqui no início então a gente começa aqui os bancos de dados de documentos Então os mais utilizados então Eh o que a gente tem de todos os no Então são os bancos de documento naquela eh visualização que a gente viu né então mais usado hoje em dia é o mong DB né Depois dos quatro relacionais ele vem em quinta ição como um dos bancos mais utilizados né e o c DB também assim tá sendo muito utilizado e ele vem crescendo né o uso aí nos últimos anos então o mong DB assim a gente eh eh tem assim duas análises principais de por ele tá tendo tanto sucesso né então um deles é porque assim a gente com ele tem bastante eficiência para rodar tanto aplicações que têm uma estrutura de dados mais complexa e mais eh flexível Quanto é uma estrutura Eh vamos dizer assim né um esquema mais estruturado Como é o relacional então tem muitas empresas e muitas aplicações que tão passando daí para um banco de dados do tipo de documentos né porque a gente consegue tanto trabalhar com estruturas complexas quanto com estruturas eh transacionais onde a gente pode fazer relacionamentos e fazer o processamento então de joins e de transações né e uma outra característica também é que esses sistemas então de bancos de dados de documentos né Principalmente esses mais usados tem toda é uma um suporte né o sgbd então ele é mais robusto eh em função da da proximidade com o relacional para eh né fazer similar ao que o relacional faz então eles TM um desempenho grande e muitas aplicações eh são adequadas paraa gente migrar para documentos né então diferente do banco de dados de grafos que tem a característica de grafo e é uma estrutura bem complexa e mais específica para algum tipo de de aplicação os bancos de dados de de documentos T um leque mais amplo de aplicações né que podem se beneficiar dessa estrutura né

- *Corpus ID:* 8909
- *Score:* 0.8625578284263611
- *URL:* oculto
- *Início:* 01:19:24
- *Fim:* 01:22:13
- *Transcrição:* tenho só esse relacionamento de pertencimento eh então assim ó quando eu tenho dados na no relacionamento e eles podem ser diferentes aí eu tenho que fazer os dois separados né então por exemplo sei lá numa rede social então eu tenho a essa pessoa aqui sei lá Maria acessa daí o perfil dessa pessoa quade de vezes e aqui a quantidade de vezes e a data Então eu preciso dos dois relacionamentos se eu tenho um mapa por exemplo que é só a distância daí eu posso ter um só então a gente vai eh escolher de acordo com eh a aplicação eh alguns bancos de dados de grafos Daí eles operam só direcionais aí eu tenho que ter as duas né e alguns bancos de dados de grafos aí permitem que a gente faça de forma simétrica então aí eh só para fechar já vou passar para as perguntas vai depender do que o banco de dados dá suporte O que é mais usado é o new 4j e ele dá suporte pros dois e vai depender do que a gente quer com a aplicação eh deixa eu só pegar só não tô vendo quem que levantou a mão mim den is pode voltar por favor para aquele slide anterior tá e eh né Ficou claro né que que o nó no caso aí uma das pessoas vai ter alguns atributos como nome e-mail endereço etc beleza ah ah mas a questão do do relacionamento Eh vamos supor que esse o amor ele seja medido por algum grau de intensidade de um até 10 por exemplo e a pergunta é eh podem ter atributos para o relacionamento também ou não o relacionamento ele é digamos apenas uma uma relação e pronto tá então assim o eh sim pode ter propriedades nos relacionamentos e em geral tem e é essa característica também que ajuda e permite a descoberta de conhecimento né Deixa eu só ver se esse próximo aqui tem aqui eu vou usar esse próximo Exemplo né então aqui ó eu tenho nome data de nascimento e eh link do Twitter aqui eu tenho nome data de

- *Corpus ID:* 8820
- *Score:* 0.8614019155502319
- *URL:* oculto
- *Início:* 01:03:28
- *Fim:* 01:06:05
- *Transcrição:* menos volume de dados e a última alternativa que é um relacionamento igual uma junção aí é o que é modelado pelo usuário e aí é quando a gente eh faz muita consulta do do tipo junção que eu quero por exemplo né todos os livros que são desse publicador aqui né então é é uma consulta bem transacional E aí a gente vai ter Opa um processamento melhor então a gente tem essas três alternativas eh na última aula eu acho que respondi uma pergunta do Garten que eu falei de eh vou mostrar ali depois né nos tccs de um trabalho que pegou dados ficeiros e ele implementou essas três formas aqui para analisar qual que é era mais rápido qual que era mais demorado comparando com o relacional e vou mostrar ali para vocês na sequência né então em resumo é isso eh quando eu consulto muito a a agregação pronta é melhor usar aninhamento quando eu consulto muito a complexidade do documento é melhor seguir né as referências eh com o identificador do sgb e quando a gente tem mais o processamento transacional é melhor usar a referência que a gente modela ali nos documentos então assim eh voltando à pergunta do Garten né não tem um modelo padrão Ou ideal porque tudo vai depender das consultas que a gente faz com maior frequência e de como os dados tão estruturados eh então também complementando né o o grande uso dos bancos de dados de documentos é em função também de toda essa flexibilidade porque aí a gente consegue modelar tanto aplicações eh que T muito alinhamento né muitos dados complexos quanto aplicações que são bem próximas aí do transacional eh então toda essa análise precisa ser feita né quando a gente vai migrar pro o modelo de documentos eh para avaliar todas essas características esse trabalho de dados ficeiros então ele

- *Corpus ID:* 8819
- *Score:* 0.8601419925689697
- *URL:* oculto
- *Início:* 01:01:23
- *Fim:* 01:04:04
- *Transcrição:* identificador vou lá no documento e trago ele para cá né Então dependendo da aplicação isso é rápido dependendo é demorado né então ele vai ser mais rápido se o número de referências não for grande mas se ele for mais aninhado e menos né uma lista exaustiva de valores Então esse aqui é o assim a vou dizer a definição original como muitas aplicações relacion isso já há bastante tempo atrás né começaram a usar os bancos de dados de documento Então se evoluiu também para fazer uma referência que é similar a uma junção né então Eh aqui então Eh no exemplo anterior eu tenho gerado automaticamente daí pelo banco né pelo sgbd e aqui são as referências aí que quem tá modelando que quem tá criando banco de dados pode implementar Então esse tipo de referência aqui então ele é muito similar Ele é igual né muito parecido com os relacionamentos dos bancos de dados relacionais então do ponto de vista de relacionamento né no nos bancos de dados de documentos a gente tem então Eh em resumo né eu tenho três alternativas uma é dis normalizado eu faço eh embutido no documento se ele tem uma estrutura bem complexa e eu faço muitas consultas com os valores agrupados é melhor né eu posso usar o identificador automático que ele é mais indicado quando a gente caminha pelas referências e eu tenho mais eh complexidade né vários caminhos para seguir como se fosse um alinhamento e menos volume de dados e a última alternativa que é um relacionamento igual uma junção aí é o que é modelado pelo usuário e aí é quando a gente eh faz muita consulta do do tipo junção que eu quero por exemplo né todos os livros que são desse publicador aqui né então é é uma consulta bem transacional E aí a gente vai ter Opa um processamento melhor então a gente tem essas três

- *Corpus ID:* 8962
- *Score:* 0.8601129055023193
- *URL:* oculto
- *Início:* 01:57:16
- *Fim:* 02:00:15
- *Transcrição:* documentos o mais conhecido é na M DB então a gente eh eh armazena os dados né no modelo que a base dele é um XML então é uma hierarquia onde comparado com o relacional né a estrutura ela é né os relacionamentos são resolvidos de uma forma hierárquica né no formato de uma árvore então enquanto o tabular ele resolve todos os relacionamentos e agrupo uma tabela gigante por linhas aqui no banco de documentos então ele agrupa de uma forma hierárquica então básicamente tabular é quando a gente tem um volume grande de dados transacional e a gente precisa de desempenho e o de documentos né na sua definição mais clássica é quando a gente tem estruturas mais complexas né que eu tenho ela em muitas partes E aí a ao invés de fazer um monte de relacionamento a gente estrutura no formato de documento então eh a ideia Central é que tudo é um documento né então eh a gente tem embutido a estrutura do esquema e o e os dados né diferente do relacional e daí a gente vai aninhando né elementos ali dentro da estrutura então a ideia a base é essa né eu agrupo tudo dentro de um objeto eh complexo E aí depois na nessa aula aqui de de documentos aí a gente vai ver alternativas né para colocar tudo no documento para quebrar em documentos né e fazer eh relacionamentos Então a gente tem várias alternativas de se usar o banco de dados de documentos e por isso que a gente viu lá no topo né que ele é o quinto mais usado os quatro primeiro são relacionais e o quinto dos no arquel o mongo DB é o que é mais utilizado né aqui fazendo a busca eh só por bancos de dados de documentos então mongo DB é o Né o primeiro aqui eu eh o garter né colocou que usa o Coach DB então ele é bastante usado também é o que tá né na quinta posição esse já usei também há algum tempo atrás O Coach BB mais Uso mais o o mongo Deb né E daí outros eh né Fire base também que é bastante usado e outros que estão aí a

- *Corpus ID:* 8817
- *Score:* 0.8582867980003357
- *URL:* oculto
- *Início:* 00:57:26
- *Fim:* 01:00:07
- *Transcrição:* Jean logo depois vou responder o Antônio então respondendo o Jean se é hierárquico quando eu monto Eh toda a minha coleção de dados com alinhamento ele é hierárquico só que tanto mongo DB quanto outros de documentos eu também posso estruturar o banco de dados com relacionamentos aí ele né ele fica uma parte hierárquico e outra parte ele fica com gráfico Como é o relacional Então tudo vai depender de como a gente tá modelando eh Tá certo G se não ficou Claro só me avisar então agora pergunta do Antônio né então eu passei aqui deixa eu ver se eu não pulei nada não tá então vou passar pros relacionamentos depois eu vou voltar lá nos relacionamentos então assim a gente tem eh duas formas diferentes de implementar os relacionamentos e eu posso né vou primeiro explicar as duas e também eu posso combinar as duas formas então uma é utilizando eh identificador e a outra é utilizando referência então a o formato puro eu monto tudo aninhado então tá tudo embutido dentro do mesmo documento a vantagem é que o John já tá resolvido a desvantagem é que eh eu tenho redundância porque aí os dados vão est desnormalizar então aqui né só pra gente ver assim ó eu tenho um relacionamento de um para n de um para um e eu tenho os dados duplicados na parte de estabelecer referências então eu não não quero alinhar porque aí vão ter consultas que elas vão demorar muito se a consulta for diferente do alinhamento que eu fiz né então aqui por exemplo eu tenho cliente e tenho o endereço então se eu quero todos os dados do cliente a consulta vai ser super rápida porque eu fiz a consulta eh no documento alinhado na agregação que já existe Se eu quisesse assim ah eu quero né todos os clientes que moram em Chicago essa consulta seria super

- *Corpus ID:* 8815
- *Score:* 0.8579697608947754
- *URL:* oculto
- *Início:* 00:53:25
- *Fim:* 00:56:06
- *Transcrição:* tabelas e relacion relações aqui no no documento você pode sei lá ir aninhando né os documentos tem alguma qual que seria uma regra seim Existe alguma coisa nesse sentido professor assim de você saber até quando que eu posso ficar aninhando ou se eu tenho que separar isso tem tá eh é é só desculpa eu só não acompanhei que foi o Garten que falou ou Denis o g foi o g tá tá obrig é nosso especialista DB eh então assim ó a a definição vou dizer assim ó pura e original dos bancos de dados de documentos são aqui são os documentos aninhados né então o que que acontece quando a gente monta um alinhamento eu faço a desnormalização do banco de dados É como se eu pegasse os joins e resolvesse eles dentro dos documentos Então nesse caso aqui né de documentos alinhados eu tenho eh o empregado né a pessoa e todos os projetos que ela trabalhou então o que que acontece eu pego o join lado relacional e resolvo eh aqui no meu documento então o que que acontece as consultas que eu vou processar eh por exemplo com esses dados agrupados né então eu já resolvi o join nessa modelagem ela vai ser bem mais eficiente né uma outra alternativa a ele normalizado e daí a gente vai usar ou referência ou identificador que eu vou mostrar os exemplos logo na sequência então aí se eu quero eh mostrar os resultados agrupados né quero todos os projetos que a Janice participou então eu vou ter que buscar as partes deles lá nos projetos onde eles estão né então vou ter que fazer o join vai demorar mais mas aí a gente assim não tem uma regra é melhor usar alinhamento ou é melhor usar eh referência aí depende das consultas que a gente faz com uma maior eh frequência né então eu posso ter todo desnormalização

- *Corpus ID:* 8963
- *Score:* 0.8573774099349976
- *URL:* oculto
- *Início:* 01:59:26
- *Fim:* 02:02:25
- *Transcrição:* são relacionais e o quinto dos no arquel o mongo DB é o que é mais utilizado né aqui fazendo a busca eh só por bancos de dados de documentos então mongo DB é o Né o primeiro aqui eu eh o garter né colocou que usa o Coach DB então ele é bastante usado também é o que tá né na quinta posição esse já usei também há algum tempo atrás O Coach BB mais Uso mais o o mongo Deb né E daí outros eh né Fire base também que é bastante usado e outros que estão aí a gente pode ver que de novo na grande parte deles é multimodelo mas aqui os que se classificam eh prioritariamente como e orac entrem todos n e Amazon e Microsoft também entram em todos porque eles contemplam todas as características e por fim aqui né nesse pedaço é o banco de dados de grafos então aqui a ideia né do dos bancos de dados de grafos eh montar um grafo né então onde a gente tem dados armazenados tanto nos nós quanto nas ligações né entre os nós então diferente das três abordagens em que a gente tem a estrutura né de tabelas né ou uma tabela com duas colunas ou uma tabela né gigante Como é o tabul ou numa estrutura né eh alinhada como é o de documentos a gente tem os dados só nessa estrutura prioritária né aqui no caso dos grafos a gente tem dados que são diferentes né tanto nos nós que depois a gente pode fazer um paralelo a gente vai fazer depois com as tabelas e as arestas que são as ligações com os relacion os lado no relacional e eles são diferentes né então é a única abordagem que eu tenho eh dados tanto nos objetos quanto nos relacionamentos entre eles e o foco principal é descoberta de conhecimento né então eu vou navegar pelo grafo né por essa estrutura eh de relacionamentos e vou descobrir informações conforme eu


**Resposta gerada pelo LLM**: As três alternativas são: 1) desnormalizado (dados embutidos no documento, indicado para consultas com valores agrupados); 2) utilizando identificador automático (mais indicado quando há complexidade e vários caminhos a seguir); 3) referência modelada pelo usuário (similar a junções em bancos relacionais, ideal para consultas transacionais).

**Referências**:
- [Vídeo de referência oculto]()
- [Vídeo de referência oculto]()

**Anotação manual**: C

**Answer Relevance (AR)**: 1.00

**Anotação automatizada**: C

**Raciocínio (AR CoT)**: Criteria: The RESPONSE must be relevant to the entire PROMPT to receive a maximum score of 3. It should address all parts of the PROMPT regarding the three alternatives for implementing relationships in document databases. Supporting Evidence: The RESPONSE directly answers the PROMPT by listing three alternatives for implementing relationships in document databases: desnormalizado, identificador automático, and referência modelada pelo usuário. Each alternative is briefly explained, providing relevant context to the question asked. Since the RESPONSE comprehensively addresses the entire PROMPT, it meets the criteria for a high relevance score.  Score: 3


---
